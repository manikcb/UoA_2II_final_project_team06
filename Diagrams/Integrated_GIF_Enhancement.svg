<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="576pt" height="73pt"
 viewBox="0.00 0.00 576.00 73.44" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(0.3 0.3) rotate(0) translate(4 240)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-240 1909.75,-240 1909.75,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_GFPGAN</title>
<polygon fill="none" stroke="black" stroke-dasharray="5,2" points="8,-120 8,-228 1294.22,-228 1294.22,-120 8,-120"/>
<text text-anchor="middle" x="651.11" y="-214.4" font-family="Arial" font-size="12.00">GFPGAN Internals (Base Architecture)</text>
</g>
<!-- A -->
<g id="node1" class="node">
<title>A</title>
<polygon fill="lightblue" stroke="black" points="120,-69 117,-73 96,-73 93,-69 49,-69 49,-33 120,-33 120,-69"/>
<text text-anchor="middle" x="84.5" y="-47.3" font-family="Times,serif" font-size="14.00">Input GIF</text>
</g>
<!-- B -->
<g id="node2" class="node">
<title>B</title>
<polygon fill="lightgrey" stroke="black" points="398.5,-70 286.5,-70 286.5,-66 282.5,-66 282.5,-62 286.5,-62 286.5,-40 282.5,-40 282.5,-36 286.5,-36 286.5,-32 398.5,-32 398.5,-70"/>
<polyline fill="none" stroke="black" points="286.5,-66 290.5,-66 290.5,-62 286.5,-62 "/>
<polyline fill="none" stroke="black" points="286.5,-40 290.5,-40 290.5,-36 286.5,-36 "/>
<text text-anchor="middle" x="342.5" y="-54.8" font-family="Times,serif" font-size="14.00">Frame Extraction</text>
<text text-anchor="middle" x="342.5" y="-39.8" font-family="Times,serif" font-size="14.00">(PIL)</text>
</g>
<!-- A&#45;&gt;B -->
<g id="edge6" class="edge">
<title>A&#45;&gt;B</title>
<path fill="none" stroke="black" d="M120.03,-51C159.99,-51 226.69,-51 276.46,-51"/>
<polygon fill="black" stroke="black" points="276.5,-54.5 286.5,-51 276.5,-47.5 276.5,-54.5"/>
</g>
<!-- C -->
<g id="node3" class="node">
<title>C</title>
<polygon fill="lightyellow" stroke="black" points="725,-109.5 539,-109.5 535,-105.5 535,-56.5 721,-56.5 725,-60.5 725,-109.5"/>
<polyline fill="none" stroke="black" points="721,-105.5 535,-105.5 "/>
<polyline fill="none" stroke="black" points="721,-105.5 721,-56.5 "/>
<polyline fill="none" stroke="black" points="721,-105.5 725,-109.5 "/>
<text text-anchor="middle" x="630" y="-94.3" font-family="Times,serif" font-size="14.00">GFPGAN Module</text>
<text text-anchor="middle" x="630" y="-79.3" font-family="Times,serif" font-size="14.00">(Base Paper)</text>
<text text-anchor="middle" x="630" y="-64.3" font-family="Times,serif" font-size="14.00">U&#45;Net + CS&#45;SFT + StyleGAN2</text>
</g>
<!-- B&#45;&gt;C -->
<g id="edge7" class="edge">
<title>B&#45;&gt;C</title>
<path fill="none" stroke="black" d="M398.55,-57.17C434.25,-61.17 481.9,-66.51 524.61,-71.3"/>
<polygon fill="black" stroke="black" points="524.45,-74.8 534.77,-72.44 525.23,-67.85 524.45,-74.8"/>
<text text-anchor="middle" x="473" y="-73.8" font-family="Times,serif" font-size="14.00">Face ROIs</text>
</g>
<!-- D -->
<g id="node4" class="node">
<title>D</title>
<polygon fill="lightyellow" stroke="black" points="699.5,-38 564.5,-38 560.5,-34 560.5,0 695.5,0 699.5,-4 699.5,-38"/>
<polyline fill="none" stroke="black" points="695.5,-34 560.5,-34 "/>
<polyline fill="none" stroke="black" points="695.5,-34 695.5,0 "/>
<polyline fill="none" stroke="black" points="695.5,-34 699.5,-38 "/>
<text text-anchor="middle" x="630" y="-22.8" font-family="Times,serif" font-size="14.00">Real&#45;ESRGAN</text>
<text text-anchor="middle" x="630" y="-7.8" font-family="Times,serif" font-size="14.00">(Background Upscale)</text>
</g>
<!-- B&#45;&gt;D -->
<g id="edge8" class="edge">
<title>B&#45;&gt;D</title>
<path fill="none" stroke="black" d="M398.55,-44.83C441.59,-40.01 501.99,-33.24 550.16,-27.84"/>
<polygon fill="black" stroke="black" points="550.69,-31.3 560.24,-26.71 549.91,-24.34 550.69,-31.3"/>
<text text-anchor="middle" x="473" y="-44.8" font-family="Times,serif" font-size="14.00">Whole Frame</text>
</g>
<!-- E -->
<g id="node5" class="node">
<title>E</title>
<polygon fill="white" stroke="black" points="1008,-70 840,-70 840,-32 1008,-32 1008,-70"/>
<text text-anchor="middle" x="924" y="-54.8" font-family="Times,serif" font-size="14.00">Merge Restored Face + BG</text>
<text text-anchor="middle" x="924" y="-39.8" font-family="Times,serif" font-size="14.00">(Alpha Blending)</text>
</g>
<!-- C&#45;&gt;E -->
<g id="edge9" class="edge">
<title>C&#45;&gt;E</title>
<path fill="none" stroke="black" d="M725.4,-72.65C758.77,-69 796.27,-64.89 829.56,-61.24"/>
<polygon fill="black" stroke="black" points="830.19,-64.69 839.75,-60.12 829.43,-57.73 830.19,-64.69"/>
<text text-anchor="middle" x="782.5" y="-73.8" font-family="Times,serif" font-size="14.00">Restored Face</text>
</g>
<!-- D&#45;&gt;E -->
<g id="edge10" class="edge">
<title>D&#45;&gt;E</title>
<path fill="none" stroke="black" d="M699.83,-26.54C738.62,-30.79 787.61,-36.16 829.8,-40.79"/>
<polygon fill="black" stroke="black" points="829.48,-44.27 839.81,-41.88 830.25,-37.31 829.48,-44.27"/>
<text text-anchor="middle" x="782.5" y="-43.8" font-family="Times,serif" font-size="14.00">Enhanced BG</text>
</g>
<!-- F -->
<g id="node6" class="node">
<title>F</title>
<ellipse fill="lightgreen" stroke="black" cx="1213.22" cy="-51" rx="91.43" ry="26.74"/>
<text text-anchor="middle" x="1213.22" y="-54.8" font-family="Times,serif" font-size="14.00">RAFT Optical Flow</text>
<text text-anchor="middle" x="1213.22" y="-39.8" font-family="Times,serif" font-size="14.00">(Motion Estimation)</text>
</g>
<!-- E&#45;&gt;F -->
<g id="edge11" class="edge">
<title>E&#45;&gt;F</title>
<path fill="none" stroke="black" d="M1008.07,-51C1040.36,-51 1077.63,-51 1111.43,-51"/>
<polygon fill="black" stroke="black" points="1111.79,-54.5 1121.79,-51 1111.79,-47.5 1111.79,-54.5"/>
</g>
<!-- G -->
<g id="node7" class="node">
<title>G</title>
<ellipse fill="lightgreen" stroke="black" cx="1417.09" cy="-51" rx="75.82" ry="26.74"/>
<text text-anchor="middle" x="1417.09" y="-54.8" font-family="Times,serif" font-size="14.00">Frame Warping</text>
<text text-anchor="middle" x="1417.09" y="-39.8" font-family="Times,serif" font-size="14.00">(Temporal Loss)</text>
</g>
<!-- F&#45;&gt;G -->
<g id="edge12" class="edge">
<title>F&#45;&gt;G</title>
<path fill="none" stroke="black" d="M1304.53,-51C1313.36,-51 1322.29,-51 1331.07,-51"/>
<polygon fill="black" stroke="black" points="1331.27,-54.5 1341.27,-51 1331.27,-47.5 1331.27,-54.5"/>
</g>
<!-- H -->
<g id="node8" class="node">
<title>H</title>
<polygon fill="lightblue" stroke="black" points="1686.75,-70 1683.75,-74 1662.75,-74 1659.75,-70 1529.75,-70 1529.75,-32 1686.75,-32 1686.75,-70"/>
<text text-anchor="middle" x="1608.25" y="-54.8" font-family="Times,serif" font-size="14.00">Re&#45;encode Enhanced GIF</text>
<text text-anchor="middle" x="1608.25" y="-39.8" font-family="Times,serif" font-size="14.00">(PIL/ImageIO)</text>
</g>
<!-- G&#45;&gt;H -->
<g id="edge13" class="edge">
<title>G&#45;&gt;H</title>
<path fill="none" stroke="black" d="M1492.86,-51C1501.63,-51 1510.65,-51 1519.59,-51"/>
<polygon fill="black" stroke="black" points="1519.62,-54.5 1529.62,-51 1519.62,-47.5 1519.62,-54.5"/>
</g>
<!-- I -->
<g id="node9" class="node">
<title>I</title>
<polygon fill="mistyrose" stroke="black" points="1899.75,-70 1723.75,-70 1723.75,-32 1905.75,-32 1905.75,-64 1899.75,-70"/>
<polyline fill="none" stroke="black" points="1899.75,-70 1899.75,-64 "/>
<polyline fill="none" stroke="black" points="1905.75,-64 1899.75,-64 "/>
<text text-anchor="middle" x="1814.75" y="-54.8" font-family="Times,serif" font-size="14.00">Metrics: PSNR, SSIM, LPIPS</text>
<text text-anchor="middle" x="1814.75" y="-39.8" font-family="Times,serif" font-size="14.00">(Perceptual &amp; Temporal)</text>
</g>
<!-- H&#45;&gt;I -->
<g id="edge14" class="edge">
<title>H&#45;&gt;I</title>
<path fill="none" stroke="black" d="M1686.86,-51C1695.56,-51 1704.52,-51 1713.45,-51"/>
<polygon fill="black" stroke="black" points="1713.52,-54.5 1723.52,-51 1713.52,-47.5 1713.52,-54.5"/>
</g>
<!-- C1 -->
<g id="node10" class="node">
<title>C1</title>
<polygon fill="lightyellow" stroke="black" points="153,-182 16,-182 16,-144 153,-144 153,-182"/>
<text text-anchor="middle" x="84.5" y="-166.8" font-family="Times,serif" font-size="14.00">Degradation Removal</text>
<text text-anchor="middle" x="84.5" y="-151.8" font-family="Times,serif" font-size="14.00">(U&#45;Net)</text>
</g>
<!-- C2 -->
<g id="node11" class="node">
<title>C2</title>
<polygon fill="lightyellow" stroke="black" points="411,-166 274,-166 274,-128 411,-128 411,-166"/>
<text text-anchor="middle" x="342.5" y="-150.8" font-family="Times,serif" font-size="14.00">Latent Code Mapping</text>
<text text-anchor="middle" x="342.5" y="-135.8" font-family="Times,serif" font-size="14.00">(MLP)</text>
</g>
<!-- C1&#45;&gt;C2 -->
<g id="edge1" class="edge">
<title>C1&#45;&gt;C2</title>
<path fill="none" stroke="black" d="M153.1,-158.78C187.07,-156.65 228.42,-154.07 263.71,-151.86"/>
<polygon fill="black" stroke="black" points="264.21,-155.34 273.97,-151.22 263.77,-148.35 264.21,-155.34"/>
<text text-anchor="middle" x="213.5" y="-160.8" font-family="Times,serif" font-size="14.00">Latent Features</text>
</g>
<!-- C4 -->
<g id="node13" class="node">
<title>C4</title>
<polygon fill="lightyellow" stroke="black" points="988,-190 860,-190 860,-152 988,-152 988,-190"/>
<text text-anchor="middle" x="924" y="-174.8" font-family="Times,serif" font-size="14.00">CS&#45;SFT Layers</text>
<text text-anchor="middle" x="924" y="-159.8" font-family="Times,serif" font-size="14.00">(Channel&#45;Split SFT)</text>
</g>
<!-- C1&#45;&gt;C4 -->
<g id="edge3" class="edge">
<title>C1&#45;&gt;C4</title>
<path fill="none" stroke="black" d="M153.07,-174.19C159.12,-174.92 165.16,-175.54 171,-176 424.44,-196.05 488.77,-179.11 743,-180 778.11,-180.12 786.92,-181.56 822,-180 830.98,-179.6 840.39,-179 849.7,-178.3"/>
<polygon fill="black" stroke="black" points="850.06,-181.78 859.75,-177.5 849.51,-174.81 850.06,-181.78"/>
<text text-anchor="middle" x="473" y="-188.8" font-family="Times,serif" font-size="14.00">Spatial Features</text>
</g>
<!-- C3 -->
<g id="node12" class="node">
<title>C3</title>
<polygon fill="lightyellow" stroke="black" points="683.5,-166 576.5,-166 576.5,-128 683.5,-128 683.5,-166"/>
<text text-anchor="middle" x="630" y="-150.8" font-family="Times,serif" font-size="14.00">Generative Prior</text>
<text text-anchor="middle" x="630" y="-135.8" font-family="Times,serif" font-size="14.00">(StyleGAN2)</text>
</g>
<!-- C2&#45;&gt;C3 -->
<g id="edge2" class="edge">
<title>C2&#45;&gt;C3</title>
<path fill="none" stroke="black" d="M411.16,-147C458.07,-147 520.1,-147 565.97,-147"/>
<polygon fill="black" stroke="black" points="566.09,-150.5 576.09,-147 566.09,-143.5 566.09,-150.5"/>
<text text-anchor="middle" x="473" y="-150.8" font-family="Times,serif" font-size="14.00">Latent Code W</text>
</g>
<!-- C3&#45;&gt;C4 -->
<g id="edge4" class="edge">
<title>C3&#45;&gt;C4</title>
<path fill="none" stroke="black" d="M683.54,-151.32C729.95,-155.13 798.1,-160.73 849.84,-164.99"/>
<polygon fill="black" stroke="black" points="849.7,-168.49 859.96,-165.82 850.28,-161.51 849.7,-168.49"/>
<text text-anchor="middle" x="782.5" y="-165.8" font-family="Times,serif" font-size="14.00">GAN Features</text>
</g>
<!-- C5 -->
<g id="node14" class="node">
<title>C5</title>
<polygon fill="lightyellow" stroke="black" points="1286.22,-190 1140.22,-190 1140.22,-152 1286.22,-152 1286.22,-190"/>
<text text-anchor="middle" x="1213.22" y="-174.8" font-family="Times,serif" font-size="14.00">Facial Component Loss</text>
<text text-anchor="middle" x="1213.22" y="-159.8" font-family="Times,serif" font-size="14.00">+ Identity Loss</text>
</g>
<!-- C4&#45;&gt;C5 -->
<g id="edge5" class="edge">
<title>C4&#45;&gt;C5</title>
<path fill="none" stroke="black" d="M988.03,-171C1029.71,-171 1084.78,-171 1129.91,-171"/>
<polygon fill="black" stroke="black" points="1129.97,-174.5 1139.97,-171 1129.97,-167.5 1129.97,-174.5"/>
<text text-anchor="middle" x="1065" y="-174.8" font-family="Times,serif" font-size="14.00">Restored Face</text>
</g>
</g>
</svg>
